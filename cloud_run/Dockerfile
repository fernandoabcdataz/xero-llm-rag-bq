# USE AN OFFICIAL PYTHON RUNTIME AS A PARENT IMAGE
FROM python:3.9

# SET THE WORKING DIRECTORY IN THE CONTAINER
WORKDIR /app

# COPY THE CURRENT DIRECTORY CONTENTS INTO THE CONTAINER AT /app
COPY . /app

# INSTALL ANY NEEDED PACKAGES SPECIFIED IN REQUIREMENTS.TXT
RUN pip install --no-cache-dir -r requirements.txt

# MAKE PORT 8080 AVAILABLE TO THE WORLD OUTSIDE THIS CONTAINER
EXPOSE 8080

# DEFINE ENVIRONMENT VARIABLE
ENV CLIENT_NAME='demo'
ENV REGION='australia-southeast1'
ENV GOOGLE_CLOUD_PROJECT='abcdataz'

# RUN APP.PY WHEN THE CONTAINER LAUNCHES
CMD ["python", "app.py"]